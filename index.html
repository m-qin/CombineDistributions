<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This package implements multiple methods for combining probabilistic predictions, including probability and quantile averaging, i.e.,   Linear Opinion Pool (Stone 1961) and Vincent average (Vincent 1912, Ratcliff 1979) respectively, as well as non-equal weighting, including trimming methods (Jose 2014).">
<title>Combine probabilistic predictions by averaging probabilities or quantiles • CombineDistributions</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Combine probabilistic predictions by averaging probabilities or quantiles">
<meta property="og:description" content="This package implements multiple methods for combining probabilistic predictions, including probability and quantile averaging, i.e.,   Linear Opinion Pool (Stone 1961) and Vincent average (Vincent 1912, Ratcliff 1979) respectively, as well as non-equal weighting, including trimming methods (Jose 2014).">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">CombineDistributions</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/intro-vignette.html">Introduction to CombineDistributions</a>
    <a class="dropdown-item" href="articles/SIRS-vignette.html">Aggregating predictions from an SIRS model</a>
    <a class="dropdown-item" href="articles/MMODS-vignette.html">Aggregation and trimming on real-world COVID-19 death predictions</a>
    <a class="dropdown-item" href="articles/tidy-tuesday-example-analysis.html">Example Analysis</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level2">
<h2 id="michelle-qins-additions-for-biostat-777-class">Michelle Qin’s additions for Biostat 777 class<a class="anchor" aria-label="anchor" href="#michelle-qins-additions-for-biostat-777-class"></a>
</h2>
<p>For my Biostat 777 class (taken fall 2023), I was thrilled to create a <a href="https://github.com/jhu-statprogramming-fall-2023/biostat777-project3-part1-m-qin" class="external-link">website</a> for the R package <code>CombineDistributions</code>. I first used <code>CombineDistributions</code> two and a half years ago when I worked with Dr. Emily Howerton (the creator of this package), Dr. Cecile Viboud, and other scientists at the <a href="https://covid19scenariomodelinghub.org" class="external-link">COVID-19 Scenario Modeling Hub</a>. Our task was to project U.S. COVID-19 cases, hospitalizations, and deaths from one week to six months ahead. Such long-term infectious disease modeling required us to carefully combine multiple expert modeling teams’ projections and quantify their combined uncertainty, motivating Dr. Howerton et al.’s methodological work in this area.</p>
<div class="section level3">
<h3 id="the-pkgdown-website">The <code>pkgdown</code> website<a class="anchor" aria-label="anchor" href="#the-pkgdown-website"></a>
</h3>
<p>Using <code>pkgdown</code>, I created a website to help users use the <code>CombineDistributions</code> package. I made some customizations in my website:</p>
<ol style="list-style-type: decimal">
<li>I set the theme of the website to be “yeti”, a Bootswatch theme.</li>
<li>I reordered the vignettes in the navbar to start from the introduction rather than following an alphabetical order, which was the default.</li>
<li>In the sidebar of the homepage and in the footer of the website, I credited Dr. Howerton as the author and creator of the package.</li>
<li>I updated the sidebar of the homepage to reflect the license that Dr. Howerton’s original package uses <a href="http://creativecommons.org/licenses/by-nc/3.0/" class="external-link">CC-BY-NC</a>.</li>
<li>In the DESCRIPTION file, I wrote a title for the website: “Combine probabilistic predictions by averaging probabilities or quantiles”.</li>
<li>I updated the README of the package, which is printed on the homepage of the website as well, to include the <a href="http://doi.org/10.1098/rsif.2022.0659" class="external-link">paper</a> that Dr. Howerton et al. published after the package was published on <a href="https://doi.org/10.5281/zenodo.7437280" class="external-link">Zenodo</a>.</li>
<li>I had some errors when running <code><a href="https://devtools.r-lib.org/reference/check.html" class="external-link">devtools::check()</a></code>, so I edited some of the package’s scripts and files. I may not have caught everything though.</li>
</ol>
</div>
<div class="section level3">
<h3 id="exported-functions-in-this-package">Exported functions in this package<a class="anchor" aria-label="anchor" href="#exported-functions-in-this-package"></a>
</h3>
<p><code>CombineDistributions</code> exports the following functions:</p>
<ul>
<li>
<code><a href="reference/LOP.html">LOP()</a></code>: “Given a set of cumulative distribution functions (assume for now: defined on same values), combine using probability averaging (also called linear opinion pool). This method calculates the (weighted) average of quantiles at a given value.”</li>
<li>
<code><a href="reference/aggregate_cdfs.html">aggregate_cdfs()</a></code>, which is defined in the <em>implementAggregation.R</em> file: “Given a data.frame containing cdfs, return a single aggregate cdf using specified method.”</li>
<li>
<code><a href="reference/vincent.html">vincent()</a></code>: “Given a set of cumulative distribution functions (assume for now: defined on same values), combine using quantile averaging (also called Vincent average). This method calculates the (weighted) average of values at a given quantile.”</li>
</ul>
<p>A basic example for the function <code><a href="reference/LOP.html">LOP()</a></code>, taken from its documentation:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">id =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>),</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>                   <span class="at">quantile =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="fl">0.01</span>))</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>dat<span class="sc">$</span>value <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(dat<span class="sc">$</span>id <span class="sc">==</span> <span class="st">"A"</span>, <span class="fu">qnorm</span>(dat<span class="sc">$</span>quantile), <span class="fu">qnorm</span>(dat<span class="sc">$</span>quantile, <span class="dv">0</span>,<span class="dv">2</span>))</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">LOP</span>(dat<span class="sc">$</span>quantile, dat<span class="sc">$</span>value, dat<span class="sc">$</span>id, <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="fl">0.05</span>), <span class="cn">NA</span>)</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="miscellaneous-comments">Miscellaneous comment(s)<a class="anchor" aria-label="anchor" href="#miscellaneous-comments"></a>
</h2>
<p>The original package exports a <code>data/</code> folder, containing files that are generated by R scripts in the <code>data-raw/</code> folder, exported by a script called <code>data.R</code> in the <code>R</code> folder, and used in a vignette. Following my TA’s advice about R packages, I have deleted the <code>data/</code> folder and <code>R/data.R</code> from my forked repository.</p>
</div>
<div class="section level1">
<div class="page-header"><h1 id="combinedistributions">CombineDistributions<a class="anchor" aria-label="anchor" href="#combinedistributions"></a>
</h1></div>
<p>This package implements multiple methods for combining probabilistic predictions, including probability and quantile averaging, i.e., Linear Opinion Pool (Stone 1961) and Vincent average (Vincent 1912, Ratcliff 1979) respectively, as well as non-equal weighting, including trimming methods (Jose 2014).</p>
<p>All code is licensed under the CC-BY-NC <a href="http://creativecommons.org/licenses/by-nc/3.0/" class="external-link">(Creative Commons attribution-noncommercial)</a> license. This package can be referenced by citing</p>
<center>
Emily Howerton, Lucie Contamin, &amp; SungmokJung. (2022). eahowerton/CombineDistributions: v0.2 release (v0.2.0). Zenodo. <a href="https://doi.org/10.5281/zenodo.7437280" class="external-link uri">https://doi.org/10.5281/zenodo.7437280</a>
</center>
<p>and is available on GitHub at <a href="https://github.com/eahowerton/CombineDistributions" class="external-link">https://github.com/eahowerton/CombineDistributions</a>.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the released version of CombineDistributions from GitHub with:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"eahowerton/CombineDistributions"</span>)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="vignettes">Vignettes<a class="anchor" aria-label="anchor" href="#vignettes"></a>
</h2>
<p>Please reference our vignettes to see examples of the functionality in <code>CombineDistributions</code>.</p>
<ol style="list-style-type: decimal">
<li><p>Introduction to <code>CombineDistributions</code>: this vignette provides an overview of the aggregation methods available and how to implement them.</p></li>
<li><p>Aggregating predictions from an SIRS mdoel: this vignette illustrates a simple simulation case study, where we simulate a multi-model prediction effort and compare aggregation methods in this controlled environment.</p></li>
<li><p>Aggregation and trimming on real-world COVID-19 death predictions: this vignette aggregates projections on COVID-19 deaths from 17 distinct epidemiological models, including varying the aggregation approach and the weighting scheme.</p></li>
</ol>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Howerton, Emily, Runge, Michael C., Bogich, Tiffany L., Borchering, Rebecca K., Inamine, Hidetoshi, Lessler, Justin, Mullany, Luke C., Probert, William J. M., Smith, Claire P., Truelove, Shaun, Viboud, Cécile, and Shea, Katriona. 2023. “Context-dependent representation of within- and between-model uncertainty: aggregating probabilistic predictions in infectious disease epidemiology.” J. R. Soc. Interface 20:20220659. <a href="http://doi.org/10.1098/rsif.2022.0659" class="external-link uri">http://doi.org/10.1098/rsif.2022.0659</a>.</p>
<p>Jose, Victor Richmond R., Yael Grushka-Cockayne, and Kenneth C. Lichtendahl. 2014. “Trimmed Opinion Pools and the Crowd’s Calibration Problem.” Management Science 60 (2): 463–75. <a href="https://doi.org/10.1287/mnsc.2013.1781" class="external-link uri">https://doi.org/10.1287/mnsc.2013.1781</a>.</p>
<p>Ratcliff, Roger. 1979. “Group Reaction Time Distributions and an Analysis of Distribution Statistics.” Psychological Bulletin 86 (3): 446–61. <a href="https://doi.org/10.1037/0033-2909.86.3.446" class="external-link uri">https://doi.org/10.1037/0033-2909.86.3.446</a>.</p>
<p>Stone, M. 1961. “The Opinion Pool.” The Annals of Mathematical Statistics 32 (4): 1339–42.</p>
<p>Vincent, Stella Burnham. 1912. “The Function of the Vibrissae in the Behavior of the White Rat.” Cambridge MA: Holt.</p>
</div>
</div>

  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>CC-BY-NC + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing CombineDistributions</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Emily Howerton <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-0639-3728" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Emily Howerton.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
